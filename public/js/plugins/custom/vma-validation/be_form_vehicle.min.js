function validateCheck() {
    jQuery.validator.addMethod("regexCustom", function(value, element, regexpr) {          
        return regexpr.test(value);
    });
    
    $('form').validate({
        onkeyup: false,
        errorElement: 'div',
        rules: {
            "vehicle-number-code": {
                maxlength: 15,
                minlength: 1,
                required: true,
                regexCustom: /^[a-zA-Z0-9_.]{1,15}$/
            },
            "vehicle-name": {
                maxlength: 45,
                minlength: 5,
                required: true,
                regexCustom: /^[a-zA-Z0-9_.\t-]{5,45}$/
            },
            "vehicle-max-distance": {
                digits: true,
                required: true
            }
        },
        messages: {
            "vehicle-number-code": {
                maxlength: "Vehicle number code must be 1-15 characters",
                minlength: "Vehicle number code must be 1-15 characters",
                required: "Vehicle number code must be filled",
                regexCustom: "Vehicle number code only use: A-Z a-z 0-9 _ ."
            },
            "vehicle-name": {
                maxlength: "Vehicle name must be 5-45 characters",
                minlength: "Vehicle name must be 5-45 characters",
                required: "Vehicle name must be filled",
                regexCustom: "Vehicle name only use: A-Z a-z 0-9 _ . - &#9251;"
            },
            "vehicle-max-distance": {
                digits: "Vehicle max distance must be numbers",
                required: "Vehicle max distance must be filled"
            }
        },
        submitHandler: function(form) {
            form.submit();
        }
    });

    $('#vehicle-manufacture').on('change', function() {
        $('#vehicle-acquire').attr('min', $('#vehicle-manufacture').val());
    });

    $('#vehicle-code').on('change', function() {
        if ($('#vehicle-code').val() == "") {
            $('#create').removeAttr('disabled');
        } else {
            var validator = $(this).valid();
            if(!validator) return false;
            $('#create').attr('disabled', true);
            $('#loader').removeClass('hide');
            $.ajax({
                url: "/vehicle-management/validation-vehicle",
                type: 'POST',
                data: {
                    key: "Vehicle Code",
                    value: $(this).val()
                },
                success: function(response) {
                    $('#loader').addClass('hide');
                    if(response == "200") {
                        $('#create').removeAttr('disabled');
                        if (!$('#vehicle-code-error-db').hasClass('d-none')) {
                            $('#vehicle-code-error-db').addClass('d-none'); 
                        }
                    } else {
                        $('#loader').addClass('hide');
                        $('#vehicle-code-error-db').removeClass('d-none');
                    }
                },
                error: function() {
                    alert("Data not found");
                }
            }); 
        }
    });

    $('#vehicle-name').on('change', function() {
        if ($('#vehicle-name').val() == "") {
            $('#create').removeAttr('disabled');
        } else {
            var validator = $(this).valid();
            if(!validator) return false;
            $('#create').attr('disabled', true);
            $('#loader').removeClass('hide');
            $.ajax({
                url: "/vehicle-management/validation-vehicle",
                type: 'POST',
                data: {
                    key: "Vehicle Name",
                    value: $(this).val()
                },
                success: function(response) {
                    $('#loader').addClass('hide');
                    if(response == "200") {
                        $('#create').removeAttr('disabled');
                        if (!$('#vehicle-name-error-db').hasClass('d-none')) {
                            $('#vehicle-name-error-db').addClass('d-none'); 
                        }
                    } else {
                        $('#vehicle-name-error-db').removeClass('d-none');
                    }
                },
                error: function() {
                    $('#loader').addClass('hide');
                    alert("Data not found");
                }
            }); 
        }
    });

    $('#vehicle-plate-1, #vehicle-plate-2, #vehicle-plate-3').on('change', function() {
        $('#create').attr('disabled', true);
        var value_plate =   $("#vehicle-plate-1").val() +
                            $("#vehicle-plate-2").val() +
                            $("#vehicle-plate-3").val();
        if (value_plate == "") {
            $('#create').removeAttr('disabled');
        } else if(
            $('#vehicle-plate-1').val() != "" &&
            $('#vehicle-plate-2').val() != "" &&
            $('#vehicle-plate-3').val() != ""
        ) {
            var validator = $(this).valid();
            if(!validator) return false;
            $('#loader').removeClass('hide');
            $.ajax({
                url: "/vehicle-management/validation-vehicle",
                type: 'POST',
                data: {
                    key: "License Plate",
                    value: value_plate
                },
                success: function(response) {
                    $('#loader').addClass('hide');
                    if(response == "200") {
                        if(
                            $('#vehicle-plate-1').val() != "" &&
                            $('#vehicle-plate-2').val() != "" &&
                            $('#vehicle-plate-3').val() != ""
                        )
                            $('#create').removeAttr('disabled');
                            if (!$('#vehicle-plate-error-db').hasClass('d-none'))
                                $('#vehicle-plate-error-db').addClass('d-none');
                    } else {
                        $('#vehicle-plate-error-db').removeClass('d-none');
                    }
                },
                error: function() {
                    $('#loader').addClass('hide');
                    alert("Data not found");
                }
            }); 
        }
    });

    $('#vehicle-engine').on('change', function() {
        if ($('#vehicle-engine').val() == "") {
            $('#create').removeAttr('disabled');
        } else {
            var validator = $(this).valid();
            if(!validator) return false;
            $('#create').attr('disabled', true);
            $('#loader').removeClass('hide');
            $.ajax({
                url: "/vehicle-management/validation-vehicle",
                type: 'POST',
                data: {
                    key: "Engine",
                    value: $(this).val()
                },
                success: function(response) {
                    $('#loader').addClass('hide');
                    if(response == "200") {
                        $('#create').removeAttr('disabled');
                        if (!$('#vehicle-engine-error-db').hasClass('d-none')) {
                            $('#vehicle-engine-error-db').addClass('d-none'); 
                        }
                    } else {
                        $('#vehicle-engine-error-db').removeClass('d-none');
                    }
                },
                error: function() {
                    $('#loader').addClass('hide');
                    alert("Data not found");
                }
            }); 
        }
    });

    $('#vehicle-chassis').on('change', function() {
        if ($('#vehicle-chassis').val() == "") {
            $('#create').removeAttr('disabled');
        } else {
            var validator = $(this).valid();
            if(!validator) return false;
            $('#create').attr('disabled', true);
            $('#loader').removeClass('hide');
            $.ajax({
                url: "/vehicle-management/validation-vehicle",
                type: 'POST',
                data: {
                    key: "Chassis",
                    value: $(this).val()
                },
                success: function(response) {
                    $('#loader').addClass('hide');
                    if(response == "200") {
                        $('#create').removeAttr('disabled');
                        if (!$('#vehicle-chassis-error-db').hasClass('d-none')) {
                            $('#vehicle-chassis-error-db').addClass('d-none'); 
                        }
                    } else {
                        $('#vehicle-chassis-error-db').removeClass('d-none');
                    }
                },
                error: function() {
                    $('#loader').addClass('hide');
                    alert("Data not found");
                }
            }); 
        }
    });
}